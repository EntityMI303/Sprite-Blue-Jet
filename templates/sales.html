<!DOCTYPE html>
<html>

<head>
    <title>Sales Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-dragdata@latest"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>

<body>
    <div class="layout-container">
        <div class="sales-container">
            <h1>Sales Prediction</h1>
            <form method="POST" action="/predict-future-sales">
                <label for="previous_sales">Previous Sales ($):</label>
                <input type="number" id="previous_sales" name="previous_sales" step="0.01" required>

                <label for="product">Product Name:</label>
                <input type="text" id="product" name="product" required>

                <label for="price">Price ($):</label>
                <input type="number" id="price" name="price" step="0.01" required>

                <label for="marketing_budget">Marketing Budget ($):</label>
                <input type="number" id="marketing_budget" name="marketing_budget" step="0.01" required>

                <label for="season">Season:</label>
                <select id="season" name="season" required>
                    <option value="spring">Spring</option>
                    <option value="summer">Summer</option>
                    <option value="fall">Fall</option>
                    <option value="winter">Winter</option>
                    <option value="all_seasons">All Seasons</option>
                </select>

                <label for="year">Years covered:</label>
                <input type="number" id="year" name="year" min="1" max="30" required>

                <label for="month">Months covered:</label>
                <select id="month" name="month" required>
                    <option value="0">0 months</option>
                    <option value="3">3 months</option>
                    <option value="6">6 months</option>
                    <option value="9">9 months</option>
                </select>

                <input type="submit" value="Predict Sales">
            </form>

            <h2 id="salesCalendar"></h2>
            <a href="{{ url_for('home') }}"><button>Back to Home</button></a>
            <a href="{{ url_for('download_sales') }}"><button>Download Data</button></a>
            <a href="{{ url_for('improvement') }}"><button>Go to Improvement Guide</button></a>
        </div>

        <div class="chart">
            <div class="chart-controls">
                <label><input type="checkbox" id="togglePredicted" checked> Show Predicted Sales</label>
                <label><input type="checkbox" id="toggleMarketing" checked> Show Marketing Impact</label>
                <button id="downloadCSV">Download CSV</button>
            </div>
            <div class="chart-container" style="height: 400px;">
                <canvas id="salesChart"></canvas>
            </div>
        </div>
    </div>
</body>
</html>